<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Focusing: focus/blur</title>
    </head>
    <body>
        <!--
         * Events focus/blur
         * focus is called on focusing
         * blur is called when the element loses the focus
        -->
        <style>
            .invalid {
                border-color: red;
            }
            #error {
                color: red;
            }
        </style>
        Your email please: <input type="email" id="input1" />
        <div id="error"></div>
        <script>
            {
                input1.onblur = function (event) {
                    if (!this.value.includes("@")) {
                        this.classList.add("invalid");
                        error.innerHTML = "Please enter a correct email.";
                    }
                };

                input1.onfocus = function (event) {
                    if (this.classList.contains("invalid")) {
                        this.classList.remove("invalid");
                        error.innerHTML = "";
                    }
                };
            }
        </script>

        <!--
         * Methods focus/blur
         * elem.focus() and elem.blur() set/unset the focus on the element.
        -->
        <style>
            .error {
                background-color: red;
            }
        </style>
        Your email please: <input type="email" id="input2" />
        <script>
            input2.onblur = function (event) {
                if (!this.value.includes("@")) {
                    this.classList.add("error");
                    this.focus();
                } else {
                    this.classList.remove("error");
                }
            };
        </script>

        <!--
         * Allow focusing on any element: tabIndex
         * switch order: 
           - tabIndex >= 1
           - tabIndex = 0 and elements without tabIndex(regular <input>)
         * tabIndex = -1 allow only programmatic focusing(elem.focus())
        -->
        <style>
            li {
                cursor: pointer;
            }
            :focus {
                outline: 1px dashed green;
            }
        </style>
        <ul>
            <li tabindex="1">One</li>
            <li tabindex="0">Zero</li>
            <li tabindex="2">Two</li>
            <li tabindex="-1">Minus One</li>
        </ul>

        <!--
         * Delegation: focusin/focusout
         * same as focus/blur but bubbles
         * must be assigned with addEventListener()
        -->
        <style>
            .focused {
                outline: 1px solid red;
            }
        </style>
        <form id="form">
            <input type="text" name="name" value="name" />
            <input type="text" name="surname" value="surname" />
        </form>
        <script>
            {
                form.addEventListener("focusin", () =>
                    form.classList.add("focused")
                );
                form.addEventListener("focusout", () =>
                    form.classList.remove("focused")
                );
            }
        </script>
    </body>
</html>
